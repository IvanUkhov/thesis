So far the interdependence between power on temperature, which is drawn
attention to in \sref{power-model}, has been ignored. In order to properly take
it into account, several approaches can be employed as follows.

The first approach is to calculate the power and temperature profiles several
times in turns until the latter converges. In this case, we obtain a series of
pairs of a power profile and a temperature profile
\[
  \{ (\mp_i, \mq_i): i = 1, 2, \dots \}.
\]
With each new temperature profile $\mq_i$---which is computed by performing
transient, static steady-state, or dynamic steady-state analysis as usual---a
new power profile $\mp_i$ is obtained by recalculating the static power and
adding it to the dynamic power, which we write as follows:
\[
  \mp_i = \mp_\dynamic + \mp_{\static, i}
\]
where $\mp_{\static, i}$ is computed using $\mq_{i - 1}$. The process continues
until the difference between two successive temperature profiles is below a
predefined threshold. According to our experience, in the case of dynamic
steady-state temperature analysis, it usually takes 4--7 iterations until the
uniform norm of the difference between two successive temperature profiles drops
below \celsius{0.5}.

In the case of transient analysis, the above procedure can be also done on a
step-by-step basis and even with only one iteration. Specifically, at each step
of the iterative process in \eref{transient-state-recurrence}, one can simply
calculate the static power at the current temperature, add it to the dynamic
power, and use the result for evaluating the next temperature. Hence, the
recurrence in \eref{transient-state-recurrence} becomes
\[
  \vs_i = \m{E} \vs_{i - 1} + \m{F} (\vp_{\dynamic, i} + \vp_{\static, i}).
\]
for $i = \range{1}{\ns}$ where $\vp_{\static, i}$ is computed using $\vq_{i -
1}$.

The second approach is to use a linear approximation of the leakage power, which
can be formalized as follows:
\[
  \vp_\static(t) = \hm{A} \vq(t) + \hv{b}
\]
where $\hm{A} \in \real^{\nn \times \nn}$ and $\hv{b} \in \real^\nn$ are a
diagonal matrix and a vector to be fitted. It can be shown that the linear
approximation keeps the original system of differential equations in
\eref{temperature-differential-original} almost intact. More precisely, it
becomes
\[
  \m{C} \frac{\d \tvs(t)}{\d t} + \hm{G} \tvs(t) = \tm{B} \hv{p}(t)
\]
where
\begin{align*}
  & \hm{G} = \m{G} - \tm{B} \hm{A} \transpose{\tm{B}} \text{ and} \\
  & \hv{p}(t) = \vp_\dynamic(t) + \hm{A} \vq_\ambient + \hv{b},
\end{align*}
and $\hm{G}$ has the same properties as $\m{G}$. Therefore, all the solutions
that have been derived in this chapter remain perfectly valid. Moreover, as
shown in \cite{liu2007}, despite of its simplicity, the approximation is
relatively accurate, and, if it is needed, it can be improved by considering
multiple linear segments.

In order to evaluate the linearization, we consider a number of hypothetical
platforms with 2--32 processing elements and undertake dynamic steady-state
temperature analysis. The calculations are performed with both the linearization
and the exponential model in \eref{static-power}. For the former, the model is
fitted using least squares \cite{press2007} targeted at range 40--\celsius{80}.
For the latter, we use the iterative approach described earlier. The experiment
shows that the \ac{NRMSE} is bounded by 2\%, indicating a good accuracy of the
linear approximation.

It is important to note that, by utilizing any of the above approaches, both
power and temperature are analyzed simultaneously. To elaborate, one obtains not
only a temperature profile but also the corresponding static and total power
profiles wherein the power-temperature interplay is accounted for.

Lastly, let us mention that the static power is not considered in the
experiments given in \sref{dynamic-steady-state-result}. However, if it was
taken into account using the linearization, the computation times would remain
unchanged, and, if the iterative model was utilized, the computation times would
increase proportionally for all the techniques, which would not affect any of
the conclusions.
