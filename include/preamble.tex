%
% Bibliography
%

\usepackage[
  hyperref,
  maxnames=42,
  sortcites,
  sorting=none,
]{biblatex}

\uspunctuation

%
% Assets
%

\usepackage{booktabs}
\usepackage{subfig}

\newcommand{\inputfigure}[1]{\input{include/assets/figures/#1}}
\newcommand{\inputtable}[1]{\input{include/assets/tables/#1}}

%
% Titles
%

\usepackage{titlesec}
\titleformat*{\subsection}{\Large}
\titleformat*{\subsubsection}{\Large}

\setcounter{tocdepth}{2}
\setcounter{secnumdepth}{3}

%
% References
%

\newcommand{\clab}[1]{\label{chapter:#1}}
\newcommand{\cref}[1]{Chapter~\ref{chapter:#1}}

\newcommand{\slab}[1]{\label{section:#1}}
\newcommand{\sref}[1]{Section~\ref{section:#1}}

\newcommand{\elab}[1]{\label{equation:#1}}
\newcommand{\eref}[1]{(\ref{equation:#1})}

\newcommand{\flab}[1]{\label{figure:#1}}
\renewcommand{\fref}[1]{Figure~\ref{figure:#1}}

\newcommand{\tlab}[1]{\label{table:#1}}
\renewcommand{\tref}[1]{Table~\ref{table:#1}}

%
% Formatting
%

\usepackage{acronym}

\newcommand{\up}[1]{\textsc{\MakeLowercase{#1}}}

\newcommand{\one}{(i)\xspace}
\newcommand{\two}{(ii)\xspace}
\newcommand{\three}{(iii)\xspace}
\newcommand{\four}{(iv)\xspace}
\newcommand{\five}{(v)\xspace}

\newcommand{\hiddensubsection}[1]{
\stepcounter{subsection}
\subsection*{\arabic{chapter}.\arabic{section}.\arabic{subsection}\hspace{1ex}{#1}}
}

%
% Mathematics
%

\usepackage{amssymb}
\usepackage{mathtools}
\usepackage{cases}
\usepackage{xspace}

\numberwithin{equation}{chapter}

\renewcommand{\math}[1]{\ensuremath{#1}\xspace}

\renewcommand{\v}[1]{\boldsymbol{#1}}
\newcommand{\hv}[1]{\hat{\v{#1}}}
\newcommand{\tv}[1]{\tilde{\v{#1}}}

\newcommand{\m}[1]{\mathbf{#1}}
\newcommand{\hm}[1]{\hat{\m{#1}}}
\newcommand{\tm}[1]{\tilde{\m{#1}}}

\newcommand{\absolute}[1]{|#1|}
\newcommand{\bigo}[1]{\mathcal{O}\left(#1\right)}
\newcommand{\diagonal}[2]{\mathrm{diag}\left(\range{#1}{#2}\right)}
\newcommand{\innerproduct}[2]{\left\langle #1, #2 \right\rangle}
\newcommand{\maximum}{\mathrm{max}}
\newcommand{\minimum}{\mathrm{min}}
\newcommand{\norm}[2][]{\|#2\|_{#1}}
\newcommand{\range}[2]{#1, \dots, #2}
\newcommand{\real}{\mathbb{R}}
\newcommand{\transform}[1]{\mathbb{T}\left(#1\right)}
\newcommand{\transpose}[1]{{#1}^\mathrm{T}}
\renewcommand{\L}[1]{{L^{#1}}}

\newcommand{\levelof}[1]{\math{{l_\mathrm{#1}}}}

\newcommand{\numberof}[1]{\math{{n_\mathrm{#1}}}}
\newcommand{\hnumberof}[1]{\math{{\hat{n}_\mathrm{#1}}}}

%
% Probability theory
%

\makeatletter
\def\probability{\@ifnextchar\bgroup{\probabilityone}{\probabilityzero}}
\def\probabilityone#1{P\left(#1\right)}
\def\probabilityzero{P}
\makeatother

\makeatletter
\def\expectation{\@ifnextchar\bgroup{\expectationone}{\expectationzero}}
\def\expectationone#1{E #1}
\def\expectationzero{E}
\makeatother

\makeatletter
\def\variance{\@ifnextchar\bgroup{\varianceone}{\variancezero}}
\def\varianceone#1{\mathrm{Var}\left(#1\right)}
\def\variancezero{\mathrm{Var}}
\makeatother

%
% Polynomial chaos
%

\newcommand{\lc}{\levelof{c}}
\newcommand{\nc}{\numberof{c}}

\newcommand{\chaos}[3]{\mathcal{C}^{#1}_{#2}\left(#3\right)}

%
% Integration
%

\renewcommand{\lq}{\levelof{q}}
\newcommand{\nq}{\numberof{q}}

\newcommand{\quadrature}[3]{\mathcal{Q}^{#1}_{#2}\left(#3\right)}

%
% Uncertainty
%

\newcommand{\no}{\numberof{\omega}}
\newcommand{\nz}{\numberof{z}}
\renewcommand{\nu}{\numberof{u}}

\newcommand{\g}{\math{g}}
\newcommand{\vg}{\math{\v{g}}}

\newcommand{\h}{\math{h}}
\newcommand{\vh}{\math{\v{h}}}

\newcommand{\hh}{\math{\hat{h}}}
\newcommand{\hvh}{\math{\hat{\v{h}}}}

\renewcommand{\u}{\math{u}}
\newcommand{\vu}{\math{\v{u}}}

\newcommand{\z}{\math{z}}
\newcommand{\vz}{\math{\v{z}}}

\newcommand{\OU}{\mathrm{OU}}
\newcommand{\SE}{\mathrm{SE}}

%
% Wafer
%

\newcommand{\nd}{\numberof{d}}
\newcommand{\hnd}{\hnumberof{d}}

%
% Platform
%

\newcommand{\np}{\numberof{p}}
\newcommand{\ns}{\numberof{s}}

\newcommand{\dt}{\math{\Delta t}}
\newcommand{\spec}{\math{\mathcal{S}}}

%
% Application
%

\newcommand{\nt}{\numberof{t}}

\newcommand{\period}{t_\mathrm{end}}

%
% Power
%

\newcommand{\p}{p}
\newcommand{\vp}{\math{\v{p}}}
\renewcommand{\mp}{\math{\m{P}}}

\newcommand{\dynamic}{\mathrm{dyn}}
\newcommand{\static}{\mathrm{stat}}

%
% Temperature
%

\newcommand{\nn}{\numberof{n}}

\newcommand{\q}{q}
\newcommand{\vq}{\math{\v{q}}}
\newcommand{\mq}{\math{\m{Q}}}

\newcommand{\vs}{\v{s}}
\newcommand{\tvs}{\tv{s}}

\newcommand{\ambient}{\mathrm{amb}}
\newcommand{\celsius}[1]{#1${}^\circ$C}
