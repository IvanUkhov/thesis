%
% Bibliography
%

\usepackage[
  hyperref,
  maxnames=42,
  sortcites,
  sorting=none,
]{biblatex}

\uspunctuation

%
% Titles
%

\usepackage{titlesec}
\titleformat*{\subsection}{\Large}
\titleformat*{\subsubsection}{\Large}

\setcounter{tocdepth}{2}
\setcounter{secnumdepth}{3}

\newcommand{\hiddensubsection}[1]{
\stepcounter{subsection}
\subsection*{\arabic{chapter}.\arabic{section}.\arabic{subsection}\hspace{1ex}{#1}}
}

%
% Contents
%

\usepackage{acronym}

\newcommand{\up}[1]{\textsc{\MakeLowercase{#1}}}

\newcommand{\one}{(i)\xspace}
\newcommand{\two}{(ii)\xspace}
\newcommand{\three}{(iii)\xspace}
\newcommand{\four}{(iv)\xspace}
\newcommand{\five}{(v)\xspace}

%
% References
%

\newcommand{\alab}[1]{\label{algorithm:#1}}
\newcommand{\aref}[1]{Algorithm~\ref{algorithm:#1}}

\newcommand{\clab}[1]{\label{chapter:#1}}
\newcommand{\cref}[1]{Chapter~\ref{chapter:#1}}

\newcommand{\elab}[1]{\label{equation:#1}}
\newcommand{\eref}[1]{(\ref{equation:#1})}

\newcommand{\flab}[1]{\label{figure:#1}}
\renewcommand{\fref}[1]{Figure~\ref{figure:#1}}

\newcommand{\rlab}[1]{\label{remark:#1}}
\newcommand{\rref}[1]{Remark~\ref{remark:#1}}

\newcommand{\slab}[1]{\label{section:#1}}
\newcommand{\sref}[1]{Section~\ref{section:#1}}

\newcommand{\tlab}[1]{\label{table:#1}}
\renewcommand{\tref}[1]{Table~\ref{table:#1}}

%
% Algorithms
%

\usepackage{algpseudocode}

\newcommand*\Let[2]{\State #1 $\gets$ #2}
\renewcommand{\algorithmicrequire}{\textbf{Input:}}
\renewcommand{\algorithmicensure}{\textbf{Output:}}

\usepackage{eqparbox}
\renewcommand{\algorithmiccomment}[1]{\hfill\eqparbox{COMMENT}{// #1}}

\newcommand{\inputalgorithm}[1]{\input{include/assets/algorithms/#1}}

%
% Figures
%

\usepackage{subfig}

\newcommand{\inputfigure}[1]{\input{include/assets/figures/#1}}

%
% Tables
%

\usepackage{booktabs}
\usepackage{multirow}
\usepackage{rotating}

\newcommand{\inputtable}[1]{\input{include/assets/tables/#1}}

%
% Mathematics
%

\usepackage{amssymb}
\usepackage{mathtools}
\usepackage{cases}
\usepackage{xspace}

\usepackage{amsthm}
\newtheorem{remark}{Remark}

\numberwithin{algorithm}{chapter}
\numberwithin{equation}{chapter}
\numberwithin{remark}{chapter}

\newcommand{\continuous}{\mathcal{C}}
\newcommand{\real}{\mathbb{R}}
\renewcommand{\natural}[1][0]{\mathbb{N}_{#1}}

\renewcommand{\math}[1]{\ensuremath{#1}\xspace}

\newcommand{\n}[1]{\math{{n_{#1}}}}
\newcommand{\hn}[1]{\math{{\hat{n}_{#1}}}}

\renewcommand{\l}[1]{\math{{l_{#1}}}}

\renewcommand{\v}[1]{\boldsymbol{#1}}
\newcommand{\hv}[1]{\hat{\v{#1}}}
\newcommand{\tv}[1]{\tilde{\v{#1}}}

\newcommand{\m}[1]{\mathbf{#1}}
\newcommand{\hm}[1]{\hat{\m{#1}}}
\newcommand{\tm}[1]{\tilde{\m{#1}}}

\newcommand{\absolute}[1]{|#1|}
\newcommand{\bigo}[1]{\mathcal{O}\left(#1\right)}
\newcommand{\cardinality}[1]{\# #1}
\newcommand{\hull}[1]{\mathrm{span}\left(#1\right)}
\newcommand{\innerproduct}[2]{\left\langle #1, #2 \right\rangle}
\newcommand{\norm}[2][]{\|#2\|_{#1}}
\newcommand{\range}[2]{#1, \dots, #2}
\newcommand{\transpose}[1]{{#1}^\mathrm{T}}
\renewcommand{\L}[1]{{L^{#1}}}
\renewcommand{\d}{\mathrm{d}}

\newcommand{\maximum}{\mathrm{max}}
\newcommand{\minimum}{\mathrm{min}}

\makeatletter
\def\diagonal#1{\@ifnextchar{\bgroup}{\diagonaltwo{#1}}{\diagonalone{#1}}}
\def\diagonaltwo#1#2{\mathrm{diag}\left(\range{#1}{#2}\right)}
\def\diagonalone#1{\mathrm{diag}\left(#1\right)}
\makeatother

\newcommand{\vi}{\math{\boldsymbol{i}}}
\newcommand{\vj}{\math{\boldsymbol{j}}}

\newcommand{\x}{\math{x}}
\newcommand{\vx}{\math{\v{x}}}

\newcommand{\E}{\math{\mathcal{E}}}
\newcommand{\F}{\math{\mathcal{F}}}
\newcommand{\W}{\math{\mathcal{W}}}
\newcommand{\X}{\math{\mathcal{X}}}

\newcommand{\error}[1]{\math{\epsilon_{#1}}}

%
% Probability theory
%

\makeatletter
\def\transform{\@ifnextchar{\bgroup}{\transformone}{\transformzero}}
\def\transformone#1{\mathbb{T}\left(#1\right)}
\def\transformzero{\mathbb{T}}
\makeatother

\makeatletter
\def\probability{\@ifnextchar{\bgroup}{\probabilityone}{\probabilityzero}}
\def\probabilityone#1{\mathbb{P}\left(#1\right)}
\def\probabilityzero{\mathbb{P}}
\makeatother

\makeatletter
\def\expectation{\@ifnextchar{\bgroup}{\expectationone}{\expectationzero}}
\def\expectationone#1{\mathbb{E} #1}
\def\expectationzero{\mathbb{E}}
\makeatother

\makeatletter
\def\variance{\@ifnextchar{\bgroup}{\varianceone}{\variancezero}}
\def\varianceone#1{\mathbb{V}\mathrm{ar}\left(#1\right)}
\def\variancezero{\mathbb{V}\mathrm{ar}}
\makeatother

\makeatletter
\def\covariance{\@ifnextchar{\bgroup}{\covarianceplus}{\covariancezero}}
\def\covarianceplus#1{\@ifnextchar{\bgroup}{\covariancetwo{#1}}{\covarianceone{#1}}}
\def\covariancetwo#1#2{\mathbb{C}\mathrm{ov}\left(#1, #2\right)}
\def\covarianceone#1{\mathbb{C}\mathrm{ov}\left(#1\right)}
\def\covariancezero{\mathbb{C}\mathrm{ov}}
\makeatother

\makeatletter
\def\correlation{\@ifnextchar{\bgroup}{\correlationplus}{\correlationzero}}
\def\correlationplus#1{\@ifnextchar{\bgroup}{\correlationtwo{#1}}{\correlationone{#1}}}
\def\correlationtwo#1#2{\mathbb{C}\mathrm{orr}\left(#1, #2\right)}
\def\correlationone#1{\mathbb{C}\mathrm{orr}\left(#1\right)}
\def\correlationzero{\mathbb{C}\mathrm{orr}}
\makeatother

%
% Polynomial chaos
%

\newcommand{\lc}{\l{c}}
\newcommand{\nc}{\n{c}}

\makeatletter
\def\chaos#1#2{\@ifnextchar{\bgroup}{\chaosthree{#1}{#2}}{\chaostwo{#1}{#2}}}
\def\chaosthree#1#2#3{\mathcal{C}^{#1}_{#2}\left(#3\right)}
\def\chaostwo#1#2{\mathcal{C}^{#1}_{#2}}
\makeatother

%
% Integration
%

\renewcommand{\lq}{\l{q}}
\newcommand{\nq}{\n{q}}

\newcommand{\sparseindex}[2]{\mathcal{I}^{#1}_{#2}}
\newcommand{\tensorindex}[2]{\mathcal{J}^{#1}_{#2}}

\makeatletter
\def\quadrature#1#2{\@ifnextchar{\bgroup}{\quadraturethree{#1}{#2}}{\quadraturetwo{#1}{#2}}}
\def\quadraturethree#1#2#3{\mathcal{Q}^{#1}_{#2}\left(#3\right)}
\def\quadraturetwo#1#2{\mathcal{Q}^{#1}_{#2}}
\makeatother

%
% Interpolation
%

\newcommand{\ls}{\l{s}}

\newcommand{\interpolant}[2]{\mathcal{S}^{#1}_{#2}}
\newcommand{\sparse}[2]{\mathcal{S}^{#1}_{#2}}
\newcommand{\tensor}[2]{\mathcal{T}^{#1}_{#2}}

%
% Uncertainty
%

\newcommand{\no}{\n{\omega}}
\newcommand{\nz}{\n{z}}
\renewcommand{\nu}{\n{u}}

\newcommand{\f}{\math{f}}

\newcommand{\g}{\math{g}}
\newcommand{\vg}{\math{\v{g}}}

\newcommand{\h}{\math{h}}
\newcommand{\vh}{\math{\v{h}}}

\newcommand{\hh}{\math{\hat{h}}}
\newcommand{\hvh}{\math{\hat{\v{h}}}}

\renewcommand{\u}{\math{u}}
\newcommand{\vu}{\math{\v{u}}}

\newcommand{\z}{\math{z}}
\newcommand{\vz}{\math{\v{z}}}

\newcommand{\OU}{\mathrm{OU}}
\newcommand{\SE}{\mathrm{SE}}

\newcommand{\local}{\mathrm{loc}}
\newcommand{\nominal}{\mathrm{nom}}
\newcommand{\overall}{\mathrm{glob}}

%
% System
%

\newcommand{\nd}{\n{d}}
\newcommand{\hnd}{\hn{d}}
\newcommand{\ns}{\n{s}}

\newcommand{\dt}{\math{\Delta t}}
\newcommand{\schedule}{\math{\mathcal{S}}}
\newcommand{\spec}{\math{\mathcal{S}}}

%
% Platform
%

\newcommand{\np}{\n{p}}

%
% Application
%

\newcommand{\nt}{\n{t}}

\newcommand{\period}{\math{\tau}}

%
% Power
%

\newcommand{\p}{p}
\newcommand{\vp}{\math{\v{p}}}
\renewcommand{\mp}{\math{\m{P}}}

\newcommand{\dynamic}{\mathrm{dyn}}
\newcommand{\static}{\mathrm{stat}}

%
% Temperature
%

\newcommand{\nn}{\n{n}}

\makeatletter
\def\nk{\@ifnextchar{\bgroup}{\nkone}{\nkzero}}
\def\nkone#1{\n{c, #1}}
\def\nkzero{\n{c}}
\makeatother

\newcommand{\q}{q}
\newcommand{\vq}{\math{\v{q}}}
\newcommand{\mq}{\math{\m{Q}}}

\newcommand{\vs}{\v{s}}
\newcommand{\tvs}{\tv{s}}

\newcommand{\ambient}{\mathrm{amb}}
\newcommand{\celsius}[1]{#1${}^\circ$C}

%
% Reliability
%

\newcommand{\life}{\math{L}}

\newcommand{\burn}{\mathrm{burn}}
\newcommand{\wear}{\mathrm{wear}}
