Analogous to \sref{dream-optimization}, in this section, the proposed framework
is illustrated in the context of design-space exploration.

\subsection{\problemtitle}

The general setup is the same as the one in \sref{dream-optimization-problem}.
We continue working with the thermal-cycling fatigue \cite{jedec2016}, which is
introduced in \sref{thermal-cycling-fatigue} and motivated in
\sref{dream-optimization}. Recall that, in this case, the system is exposed a
periodic or approximately periodic workload, and that the corresponding
temperature profile is a dynamic steady-state temperature profile, which, in the
deterministic case, can be computed as described in
\sref{dynamic-steady-solution}.

The goal of our optimization in this section is to find such a schedule
\schedule that minimizes energy consumption while satisfying certain
constraints. More specifically, our objective is
\begin{equation} \elab{chaos-optimization-objective}
  \min_{\schedule} \expectation{(E(\schedule))}
\end{equation}
such that
\begin{equation} \elab{chaos-optimization-constraints}
  \begin{split}
    & \period(\schedule) \leq \period_\maximum, \\
    & \probability\left(Q(\schedule) \geq \q_\maximum\right) \leq \rho_\burn, \text{ and} \\
    & \probability\left(\life(\schedule) \leq \life_\minimum\right) \leq \rho_\wear.
  \end{split}
\end{equation}
In the above formulae,
\begin{align*}
  & E(\schedule) = \dt \, \norm[1]{\mp(\schedule)}; \\
  & Q(\schedule) = \norm[\infty]{\mq(\schedule)}; \\
  & \life(\schedule) = \expectation{\left(\life(\schedule)\right)};
\end{align*}
$\period(\schedule)$ is the period of the application; \dt is the sampling
interval of power and temperature profiles; and $\norm[1]{\cdot}$ denotes the
Manhattan norm.

Our objective in \eref{chaos-optimization-objective} is to minimize the
expectation of the consumed energy $E: \Omega \to \real$, which is a random
variable since energy is a function of power, and power, in turn, depends on the
uncertain parameters \vu. Our constraints in
\eref{chaos-optimization-constraints} concern \one~time, \two~temperature, and
\three~reliability. The first constrains the period of the application by
$\period_\maximum$ (a deadline). The second constrains the maximum temperature
of the system by $\q_\maximum$ where $\rho_\burn$ is an acceptable probability
of burning the chip. The third constrains from below the lifetime of the system
by $\life_\minimum$ where $\rho_\wear$ is an acceptable probability of having a
premature fault due to wear. The last two constraints in
\eref{chaos-optimization-constraints} are probabilistic since the quantities
under consideration are stochastic. In the last constraint, we set an upper
bound on the probability of the expected value of \life; note that this
expectation is a random variable itself due to the nested structure of the
reliability model described in \rref{chaos-nested-uncertainty}.

In this section, the quantity of interest \g in \fref{chaos-overview} is the
vector
\begin{equation} \elab{chaos-optimization-quantity}
  \vg = (E, Q, \life)
\end{equation}
where the first element corresponds to the total energy consumption; the second
is the maximum temperature; and, with a slight abuse of notation, the third is
the parameters of the reliability model characterizing the lifetime---in
\sref{reliability-model} and \sref{chaos-reliability-analysis}, these parameters
are denoted by \vg. Each element implicitly depends on \schedule and \vu. In
\aref{chaos-construction}, Algorithm~G is a subroutine that transforms \vz into
\vu, makes a call to \aref{chaos-dynamic-steady-solution-iterative}, and
processes the resulting power and temperature profiles as required in order to
compute \vg.

The construction of a surrogate at Stage~3 is standard; see
\sref{chaos-construction}. On the other hand, the post-processing stage,
Stage~4, is worth discussing.

\subsection{Post-Processing}

Polynomial expansions are utilized inside an optimization procedure whose
objective is the one shown in \eref{chaos-optimization-objective}. Let us
discuss this procedure.

Similar to \sref{dream-optimization}, we make use of a genetic algorithm. Each
chromosome contains $2 \nt$ genes that encode a mapping of the tasks onto the
processing elements and their priorities; this information is needed for
constructing a schedule \schedule. The population contains $4 \nt$ individuals
that are initialized using uniform distributions. The parents for the next
generation are chosen by a tournament selection with the number of competitors
equal to 20\% of \nt. A one-point crossover is then applied to 80\% of the
parents. Each parent undergoes a uniform mutation where each gene is altered
with probability 0.01. The top five-percent individuals always survive. The
stopping condition is the absence of improvement within 10 successive
generations.

Let us turn to the evaluation of the fitness of a chromosome. We begin by
checking the timing constraint, the first one in
\eref{chaos-optimization-constraints}, as it does not require any uncertainty
analysis; the constraint is purely deterministic. If it is violated, we set the
fitness to the amount of this violation relative to the constraint---that is, to
the difference between the actual period and the deadline $\period_\maximum$
divided by $\period_\maximum$---and add a big constant $C$. If the timing
constraint is satisfied, we perform our uncertainty analysis and proceed to
checking the other two constraints. If any of them is violated, we set the
fitness to the total relative amount of violation plus $C / 2$. If all the
constraints are satisfied, the fitness value of the chromosome is set to the
expected consumption of energy.

In order to speed up the optimization, we make use of caching and parallel
computing. Specifically, the fitness value of each evaluated chromosome is
stored in memory and reused when a chromosome with the same set of genes is
encountered, and unseen (not cached) individuals are assessed in parallel.

The important aspect to note is that the examination of the temperature and
lifetime constraints---the last two formulae in
\eref{chaos-optimization-constraints}---as well as the evaluation of the
expected total energy consumption in \eref{chaos-optimization-objective} are
undertaken by means of a \ac{PC} expansion. The probabilities of the two events
are estimated via sampling the constructed surrogate, and the expectation has an
analytical formula, which is elaborated on in \sref{chaos-processing}.
